{"version":3,"sources":["assets/images/cd-icon-location.svg","assets/images/cd-icon-movie.svg","assets/images/cd-icon-picture.svg","posts/captures/fiber_structure.png","posts/captures/fiber_relationship.jpeg","posts/Tag.jsx","posts/captures/createUpdate.png","posts/captures/Partial_Lanes.png","posts/index.js","posts/Post1.jsx","posts/captures/workInProgress.png","posts/Post2.jsx","posts/captures/LaneType.png","components/Timeline/index.jsx","components/Background/Bubbles.jsx","components/Header/Header.jsx","components/Post/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["Tag","jumpTo","window","open","props","link","onClick","this","className","children","React","Component","Post1","src","fiberSturcture","fiberRelationship","alt","Post2","imgCreateUpdate","style","display","Lanes","textIndent","withRouter","useState","post","setPost","PostComponent","postMap","refCallback","useCallback","ref","sessionStorage","getItem","setItem","setTimeout","classList","add","SwitchTransition","CSSTransition","classNames","timeout","id","IconPicture","href","IconMovie","IconLocation","title","height","Circle","color","radius","fixedX","fixedY","scale","isWiggling","x","y","origin","ctx","canvas","width","pos","Bubbles","resizeHandler","resizeCanvas","step","circles","instantiateCanvas","instantiateCircles","size","fx","fy","addEventListener","TweenLite","ticker","draw","removeEventListener","document","getElementById","getContext","globalCompositeOperation","data","i","length","newCircle","setOriginalPosition","push","wiggleCircle","circle","tweenProperties","name","min","max","wiggleProperties","obj","properties","duration","Math","random","tweenOptions","ease","Power1","easeInOut","onComplete","property","to","canvasEl","clearRect","clientWidth","clientHeight","drawCircle","rad","calculateRadius","calculateRelativePosition","beginPath","arc","PI","fillStyle","fill","containerEl","Header","Post","target","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.15a11821.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/cd-icon-location.3df4df56.svg\";","export default __webpack_public_path__ + \"static/media/cd-icon-movie.cd657a03.svg\";","export default __webpack_public_path__ + \"static/media/cd-icon-picture.cf28d9b1.svg\";","export default __webpack_public_path__ + \"static/media/fiber_structure.2aa908cc.png\";","export default __webpack_public_path__ + \"static/media/fiber_relationship.d6d3cf53.jpeg\";","import React from 'react';\r\nimport './tag.css';\r\n\r\nexport default class Tag extends React.Component {\r\n  jumpTo = () => {\r\n    window.open(this.props.link);\r\n  }\r\n  render() {\r\n    return <span onClick={this.jumpTo} className=\"tag\">{this.props.children}</span>\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/createUpdate.8191335a.png\";","export default __webpack_public_path__ + \"static/media/Partial_Lanes.6e03d3d0.png\";","import Post1 from \"./Post1\";\r\nimport Post2 from \"./Post2\";\r\nexport default {\r\n  Post1,\r\n  Post2\r\n}","import React from 'react';\r\nimport fiberSturcture from './captures/fiber_structure.png'\r\nimport fiberRelationship from './captures/fiber_relationship.jpeg'\r\nimport workInProgress from './captures/workInProgress.png'\r\nexport default function Post1() {\r\n  return (\r\n    <>\r\n      <h1>React Fiber</h1>\r\n      <p>å¤§å®¶ä»¥å‰æ˜¯å¦æœ‰å¬è¿‡fiberè¿™ç§æ•°æ®ç»“æ„å‘¢ï¼Ÿå®ƒæ˜¯äºReact16ä¹‹åå¼•å…¥çš„ï¼Œå¼•å…¥çš„ä¸»è¦åŸå› å°±æ˜¯ä¸ºäº†è§£å†³å¢é‡æ›´æ–°çš„é—®é¢˜ï¼ˆIncremental Renderingï¼‰ã€‚</p>\r\n      <p>åœ¨React16ä»¥å‰ï¼ŒReactç”¨åˆ°çš„Reconcilerï¼ˆåè°ƒå™¨ï¼‰å«Stack Reconcilerã€‚å®ƒä¸»è¦çš„ç‰¹å¾æ˜¯åè°ƒè¿‡ç¨‹å¦‚åŒå‡½æ•°çš„è°ƒç”¨å †æ ˆä¸€èˆ¬ï¼Œè¿‡ç¨‹æ˜¯åŒæ­¥çš„ï¼Œæ— æ³•ä¸­æ–­ã€‚</p>\r\n      <p>ä½ æ˜¯å¦æœ‰ç–‘æƒ‘ï¼šæ— æ³•ä¸­æ–­å°±æ— æ³•ä¸­æ–­å‘—ï¼Œæœ‰ä»€ä¹ˆå¤§é—®é¢˜å—ï¼Ÿ</p>\r\n      <p>è¿™æ˜¯å› ä¸ºï¼Œåœ¨ä¸€ä¸ªé¡µé¢ï¼Œæµè§ˆå™¨åªä¼šåˆ†é…ä¸€ä¸ªä¸»çº¿ç¨‹æ¥å¤„ç†åŒ…å«jsä»£ç çš„æ‰§è¡Œã€æ ·å¼å¸ƒå±€ã€äº‹ä»¶å“åº”åŠåƒåœ¾å›æ”¶ç­‰åœ¨å†…çš„ä»»åŠ¡ã€‚å¦‚æœä¸€ä¸ªä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œå…¶å®ƒä»»åŠ¡çš„æ­£å¸¸è¿è¡ŒåŠ¿å¿…ä¼šå—åˆ°å½±å“ã€‚Reactçš„reconciliationè¿‡ç¨‹å¹¶ä¸ç®—å¿«ï¼Œå°¤å…¶å½“é¡µé¢é‡åˆ°æ¯”è¾ƒå¤§çš„æ›´æ–°æ—¶ï¼Œåè°ƒä¼šè€—è´¹æ¯”è¾ƒå¤šçš„æ—¶é—´ã€‚åœ¨è¿™æœŸé—´ï¼Œç”¨æˆ·æ— æ³•ä¸é¡µé¢è¿›è¡Œäº¤äº’ï¼ˆå› ä¸ºä¸»çº¿ç¨‹å¿™ï¼‰ï¼Œæ•´ä¸ªé¡µé¢å¡ä½äº†ï¼Œç”¨æˆ·ä½“éªŒæ€¥å‰§ä¸‹é™ã€‚</p>\r\n      <p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒReactå¼•å…¥äº†ä¸€ç§å«ä½œFiberçš„æ•°æ®ç»“æ„ ä»¥åŠ å¢é‡æ›´æ–°çš„æ¦‚å¿µã€‚</p>\r\n      <p>ä»€ä¹ˆæ˜¯å¢é‡æ›´æ–°ï¼Ÿå®ƒæŒ‡çš„æ˜¯Reactçš„åè°ƒè¿‡ç¨‹å˜æˆå¼‚æ­¥çš„äº†ã€‚å®ƒå¯ä»¥è¢«æ‰“æ–­ï¼Œå¹¶ä¸”åœ¨æ‰“æ–­åè¿˜èƒ½å†æ¢å¤ï¼Œåœ¨åŸå…ˆå·¥ä½œçš„åŸºç¡€ä¸Šç»§ç»­è¿›è¡Œï¼ˆå¢é‡æ›´æ–°å› æ­¤å¾—åï¼‰ã€‚è¿™æ ·ï¼ŒReactçš„åè°ƒä¸ä¼šé˜»å¡æµè§ˆå™¨å¯¹å…¶å®ƒäº‹ä»¶çš„å¤„ç†ï¼Œå¦‚å“åº”ç”¨æˆ·äº‹ä»¶ã€æ›´æ–°åŠ¨ç”»ç­‰ç­‰ã€‚åœ¨ç”¨æˆ·çœ‹æ¥ï¼Œé¡µé¢å¹¶æ²¡æœ‰å¡é¡¿ï¼Œè¿˜æ˜¯é«˜å“åº”åº¦çš„ï¼Œç”¨æˆ·ä½“éªŒå¾—åˆ°äº†æå¤§çš„æé«˜ï¼</p>\r\n      <p>æœ‰äººå¯èƒ½ä¼šé—®äº†ï¼šâ€œæ—¢ç„¶å¢é‡æ›´æ–°è¿™ä¹ˆå¥½ï¼Œä¸ºä»€ä¹ˆä»¥å‰ä¸å¼„å‘¢ï¼Ÿâ€è¿™æ˜¯å› ä¸ºä¹‹å‰çš„Stack Reconcileræ²¡æœ‰ä½¿ç”¨ç±»ä¼¼äºFiberçš„æ•°æ®ç»“æ„ã€‚å®ƒæ²¡æœ‰æŠŠå¤§çš„å·¥ä½œï¼ˆReconciliationï¼‰æ‹†åˆ†æˆä»¥Fiberä¸ºå•ä½çš„ä¸€ä¸ªä¸ªå°çš„å·¥ä½œå•å…ƒï¼ˆUnitOfWorkï¼‰ï¼Œä¹Ÿæ²¡æœ‰è®°å½•å½“å‰åè°ƒæ‰€å¤„ä½ç½®çš„æœºåˆ¶ï¼Œå› æ­¤å®ƒä¸å¯èƒ½å®ç°å¢é‡æ›´æ–°ã€‚</p>\r\n      <hr />\r\n      <p>å¥½äº†ï¼Œè¯´äº†è¿™ä¹ˆå¤šï¼Œè¿›å…¥æˆ‘ä»¬ä»Šå¤©çš„æ­£é¢˜ï¼Œå¥½å¥½çœ‹ä¸‹fiberé•¿ä»€ä¹ˆæ ·å§</p>\r\n      <p>é¦–å…ˆæ˜¯Fiberçš„æ•°æ®ç»“æ„ï¼š</p>\r\n      <img src={fiberSturcture} />\r\n      <p>å¯ä»¥çœ‹åˆ°ï¼Œfiberæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªJavaScriptå¯¹è±¡ï¼Œå®ƒæ¶µç›–äº†å¾ˆå¤šä¿¡æ¯ï¼ŒåŒ…æ‹¬Instanceï¼Œä¹ŸåŒ…æ‹¬Effectsã€‚æˆ‘ä»¬ä»Šå¤©é‡ç‚¹å…³æ³¨å’ŒFiberæ ‘ç›¸å…³çš„å››ä¸ªå±æ€§â€”â€”returnã€childã€siblingå’Œindex</p>\r\n      <p>åœ¨React15åŠä¹‹å‰çš„ç‰ˆæœ¬ï¼Œreconciliationä¼šç”ŸæˆVirtualDOMæ ‘ï¼›åœ¨16ä¹‹åï¼Œé™¤äº†ç”ŸæˆVirtualDOMæ ‘ï¼Œè¿˜ä¼šç”ŸæˆFiberæ ‘ã€‚VirtualDOMæ ‘å’ŒFiberæ ‘çš„å±‚çº§å…³ç³»æ˜¯å·®ä¸å¤šçš„ï¼Œä½†è¿˜æ˜¯æœ‰ä¸€äº›ç»†å¾®å·®åˆ«çš„ï¼Œä¸èƒ½å®Œå…¨ç­‰åŒã€‚å¦å¤–ï¼ŒFiberä¸Šè¿˜æºå¸¦äº†fiberéœ€è¦å®Œæˆçš„å·¥ä½œä¿¡æ¯ï¼ˆå¦‚æ›´æ–°DOMï¼Œç§»é™¤Refï¼Œè°ƒç”¨å›è°ƒå‡½æ•°ç­‰ï¼Œè¿™äº›è®°å½•åœ¨Effectsç›¸å…³å­—æ®µä¸Šï¼‰ã€‚å› æ­¤ï¼ŒFiberåœ¨Reactæºç ä¸­åˆè¢«ç§°ä½œUnitOfWorkï¼ˆå·¥ä½œå•å…ƒï¼‰ã€‚</p>\r\n      <p>æˆ‘ä»¬ç»§ç»­æ¥çœ‹Fiberçš„æ•°æ®ç»“æ„ã€‚Fiberçš„childæŒ‡çš„æ˜¯å®ƒçš„å­èŠ‚ç‚¹ï¼Œè€ŒreturnæŒ‡çš„æ˜¯å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚å¦‚æœç¢°åˆ°fiberæœ‰å¤šä¸ªå­èŠ‚ç‚¹çš„æƒ…å†µè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œfiberçš„æ•°æ®ç»“æ„é‡Œå¹¶æ²¡æœ‰childrenï¼Œåªæœ‰childã€‚è€Œchildä¸èƒ½æ˜¯æ•°ç»„ï¼Œå®ƒåªèƒ½æŒ‡å‘ä¸€ä¸ªç‰¹å®šçš„fiberã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œsiblingå’Œindexå±æ€§å°±æ´¾ä¸Šç”¨åœºäº†ã€‚å‡å¦‚çˆ¶biberä¸‹æœ‰å¤šä¸ªå­fiberï¼Œé‚£ä¹ˆçˆ¶fiberä¼šå°†childæŒ‡å‘å®ƒçš„ç¬¬ä¸€ä¸ªå­fiberï¼Œå‰©ä¸‹çš„å­fiberé€šè¿‡siblingå±æ€§ç›¸è¿â€”â€”å³ç¬¬ä¸€ä¸ªå­fiberçš„siblingæŒ‡å‘ç¬¬äºŒä¸ªå­Fiberï¼Œç¬¬äºŒä¸ªå­Fiberçš„siblingæŒ‡å‘ç¬¬ä¸‰ä¸ªå­Fiberâ€¦â€¦ä¾æ­¤ç±»æ¨ï¼Œæœ€åä¸€ä¸ªå­fiberçš„siblingå€¼ä¸ºnullï¼ˆä»£è¡¨å®ƒåé¢æ²¡æœ‰ç›¸é‚»çš„fiberäº†ï¼‰ã€‚å¯¹äºè¿™äº›æœ‰siblingçš„å­fiberæ¥è¯´ï¼Œå®ƒä»¬ä¾é indexæ¥åˆ¤æ–­å®ƒä»¬åœ¨æ•´ä¸ªå­çº§ä¸­çš„ä½ç½®â€”â€”ç¬¬ä¸€ä¸ªå­fiberçš„indexå€¼ä¸º0ï¼Œç¬¬äºŒä¸ªindexå€¼ä¸º1â€¦â€¦ä¾æ­¤ç±»æ¨ã€‚</p>\r\n      <p>è®²åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥å¯¹Fiberæ ‘çš„ç»“æ„æœ‰ä¸€ä¸ªæ¯”è¾ƒæ¸…æ™°çš„è®¤è¯†äº†å§ï¼Œä»¥ä¸‹æ˜¯æˆ‘ä»å…¶å®ƒåœ°æ–¹æ‘˜æ¥çš„å›¾ç‰‡ä¾›å¤§å®¶å‚è€ƒï¼š</p>\r\n      <img src={fiberRelationship} alt=\"\" />\r\n      <p>é‚£ä¸ºä»€ä¹ˆå¼•å…¥äº†Fiberåï¼Œåè°ƒçš„è¿‡ç¨‹å°±æ˜¯å¯ä¸­æ–­å†æ¢å¤çš„å‘¢ï¼Ÿé¦–å…ˆï¼ŒReactçš„åè°ƒæ˜¯æœ‰è§„å¾‹çš„ï¼Œå®ƒé‡‡ç”¨çš„æ˜¯æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼Œä»æ ¹ï¼ˆHostRootï¼‰å‡ºå‘ï¼Œé¡ºç€childæŒ‡é’ˆä¸€è·¯å‘ä¸‹ï¼Œæ‰¾åˆ°æœ€å·¦è¾¹(indexç­‰äº0)ã€æœ€æ·±å±‚(childç­‰äºnull)çš„é‚£ä¸ªfiberï¼Œè®¡ç®—å‡ºå®ƒå¾…å¤„ç†çš„Effectsã€‚ç„¶åçœ‹è¿™ä¸ªfiberæœ‰æ²¡æœ‰å…„å¼Ÿå…ƒç´ (sibling)ï¼Œæœ‰çš„è¯å°†æŒ‡é’ˆç§»åˆ°è¿™ä¸ªå…„å¼Ÿå…ƒç´ ã€‚å†çœ‹è¿™ä¸ªå…„å¼Ÿå…ƒç´ æœ‰æ²¡æœ‰å­å…ƒç´ ï¼Œæœ‰çš„è¯æˆ‘ä»¬ä¹Ÿæ˜¯é¡ºç€childæŒ‡é’ˆä¸€è·¯å‘ä¸‹ï¼Œæ‰¾åˆ°å®ƒæœ€å·¦è¾¹ã€æœ€æ·±å±‚çš„é‚£ä¸ªå­fiberï¼Œè®¡ç®—å‡ºè¯¥fiberå¾…æ‰§è¡Œçš„Effectsâ€¦â€¦ä¸€ç›´é‡å¤è¿™ä¸ªè¿‡ç¨‹ã€‚&emsp;å½“fiberæ²¡æœ‰å…„å¼Ÿå…ƒç´ (siblingä¸ºnull)æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“æˆ‘ä»¬å·²ç»éå†å®Œäº†è¿™ä¸€å±‚çš„æ‰€æœ‰å­fiberï¼Œéœ€è¦è¿”å›ä¸Šä¸€çº§äº†ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡fiberçš„returnå±æ€§æ‰¾åˆ°ä¸Šä¸€çº§çš„é‚£ä¸ªfiberäº†ã€‚æ‰¾åˆ°åé¦–å…ˆæˆ‘ä»¬è®¡ç®—å‡ºè¿™ä¸ªfiberæ‰€éœ€è¦æ‰§è¡Œçš„Effectsï¼Œç„¶åæŠŠæŒ‡é’ˆç§»å‘å®ƒçš„å…„å¼Ÿå…ƒç´ ï¼Œå†é‡å¤ä»¥ä¸Šæ“ä½œï¼ˆæ‰¾æœ€å·¦è¾¹ã€æœ€æ·±å±‚çš„å­Fiberï¼‰â€¦â€¦è¿™æ ·ä¸€é¡¿æ“ä½œä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¼šå›åˆ°å½“åˆçš„åŸç‚¹(HostRootï¼‰äº†ï¼Œæ•´ä¸ªåè°ƒè¿‡ç¨‹å®Œæˆã€‚</p>\r\n      <p>åè°ƒå¯¹è±¡å¦‚æœæ˜¯ä¸€é¢—æ¯”è¾ƒå¤§çš„Fiberæ ‘çš„è¯å°±ä¼šæ¯”è¾ƒè´¹æ—¶ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ç§æœºåˆ¶æ¥è®°å½•å½“å‰å·¥ä½œçš„è¿›åº¦ï¼Œè¿™æ ·æˆ‘ä»¬ä¸­æ–­åå†å›æ¥è¿˜èƒ½ç»§ç»­åœ¨ä¹‹å‰ä¸­æ–­çš„åœ°æ–¹å·¥ä½œã€‚ä¸ºæ­¤ï¼ŒReactå®šä¹‰äº†ä¸€ä¸ªæ¨¡å—çº§åˆ«çš„å˜é‡ï¼šworkInProgressã€‚å®ƒçš„å–å€¼æ˜¯nullæˆ–Fiberã€‚</p>\r\n      <img src={workInProgress} alt=\"\" />\r\n      <p>æˆ‘ä»¬å½“å‰åè°ƒåˆ°å“ªä¸ªFiberï¼Œåªéœ€è¦æŠŠè¿™ä¸ªFiberçš„å¼•ç”¨èµ‹å€¼ç»™æ¨¡å—å˜é‡workInProgresså°±å¥½äº†ã€‚è¿™æ ·å½“åè°ƒè¢«ä¸­æ–­ã€å†å›æ¥ç»§ç»­å·¥ä½œæ—¶ï¼Œåªéœ€è¦ä»workInProgresså¼•ç”¨çš„é‚£ä¸ªFiberå‡ºå‘ï¼ŒæŒ‰æ·±åº¦ä¼˜å…ˆç®—æ³•ä¸€çº§çº§éå†å³å¯ï¼Œæ¯‹é¡»æ‹…å¿ƒå·¥ä½œè¿›åº¦çš„ä¸¢å¤±ï¼Œå®ç°äº†åè°ƒçš„å¼‚æ­¥åŒ–ã€‚</p>\r\n    </>\r\n  )\r\n}","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport Tag from './Tag';\r\nimport imgCreateUpdate from './captures/createUpdate.png'\r\nimport TypeLane from './captures/LaneType.png'\r\nimport Lanes from './captures/Partial_Lanes.png'\r\nexport default function Post2() {\r\n  return <>\r\n    <h1>React Fiber Lane</h1>\r\n    <p>React Fiber Lane æ˜¯Reactäº 2020å¹´ å¼•å…¥çš„ï¼Œå®ƒæœ€æ—©çš„ PR å¯ä»¥è¿½æº¯å›è¿™ä¸€æ¡ï¼š<Tag link=\"https://github.com/facebook/react/pull/18796\">Initial Lanes implementation</Tag></p>\r\n    <p>Lane è‹±æ–‡ç¿»è¯‘ä¸ºå°å··å’Œè½¦é“ï¼Œä½†å®ƒåœ¨Reactä¸­æœ‰å¦å¤–ç‰¹æ®Šçš„æ„ä¹‰ â€”â€” å…·ä½“ç‰¹æ®Šåœ¨å“ªå‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬æ¥ä¸€æ¢ç©¶ç«Ÿï¼</p>\r\n    <p>é¦–å…ˆæˆ‘ä»¬å¾—ä» lane çš„å‰èº« <Tag link=\"https://github.com/facebook/react/pull/10426\">expirationTime</Tag> è¯´èµ·ã€‚expirationTimeçš„æ„æ€æ˜¯è¿‡æœŸæ—¶é—´ï¼Œæ˜¯Updateä¸Šçš„ä¸€ä¸ªå±æ€§ã€‚å½“ç”¨æˆ·è§¦å‘äº†ä¸€ä¸ªæ›´æ–°ï¼ˆsetStateã€ replaceStateæˆ–forceUpdateç­‰ï¼‰ï¼ŒReactå°±ä¼šåˆ›å»ºä¸€ä¸ªUpdateå¯¹è±¡ï¼Œå¹¶å°† expirationTime å€¼èµ‹ç»™å®ƒï¼š</p>\r\n    <img src={imgCreateUpdate} alt=\"\" />\r\n    <p>é‚£ä¹ˆUpdateçš„expirationTimeçš„å€¼ç”±è°å†³å®šçš„å‘¢ï¼Ÿå®ƒæ˜¯ç”±ä¼˜å…ˆçº§å†³å®šçš„â€”â€”ä¼˜å…ˆçº§é«˜çš„ï¼Œå®ƒçš„è¿‡æœŸæ—¶é—´è‡ªç„¶çŸ­ï¼›è€Œä¼˜å…ˆçº§ä½çš„ï¼Œè¿‡æœŸæ—¶é—´å°±ä¼šè¢«å»¶é•¿ã€‚å…·ä½“é€»è¾‘è¯·å‚è€ƒ <Tag link=\"https://github.com/facebook/react/blob/3019210df2b486416ed94d7b9becffaf254e81c4/src/renderers/shared/fiber/ReactFiberExpirationTime.js#L61-L95\">priorityToExpirationTime</Tag>ã€‚</p>\r\n    <p>ExpirationTimeæœºåˆ¶çš„å¼•å…¥ä¸ä»…èƒ½ä¸ºä¸åŒçº§åˆ«çš„Updateå®šä¹‰å¯¹åº”çš„ä¼˜å…ˆçº§ï¼Œè¿˜èƒ½é˜²æ­¢ä½ä¼˜å…ˆçº§æ›´æ–°ä¸€ç›´è¢«é«˜ä¼˜å…ˆçº§æ›´æ–°é˜»å¡äº§ç”Ÿstarvationï¼ˆè¿™æ˜¯å› ä¸ºéšç€æ—¶é—´çš„æ¨è¿›ï¼Œä½ä¼˜å…ˆçº§çš„expirationTimeä¼šç¦»å½“å‰æ—¶é—´è¶Šæ¥è¶Šè¿‘ï¼Œè¿™æ ·å®ƒçš„ä¼˜å…ˆçº§ä¼šéšä¹‹æé«˜ï¼Œä»è€Œé¿å…äº†ä¸€ç›´è¢«é˜»å¡ï¼‰ã€‚</p>\r\n    <p>è¿™ä¸ªæ¨¡å‹çœ‹èµ·æ¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œç›´åˆ°Suspenseç»„ä»¶çš„å‡ºç°ã€‚Suspenseçš„ä½œç”¨æ˜¯æ‡’åŠ è½½ï¼Œå®ƒå…è®¸å…¶å†…éƒ¨å®šä¹‰çš„ç»„ä»¶å‘é€IOè¯·æ±‚ï¼Œç­‰IOè¯·æ±‚ç»“æŸåå†å°†ç»„ä»¶æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚Suspenseçš„å¼•å…¥å¸¦æ¥äº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼Œå³ IO-boundï¼Œä¹Ÿå°±æ˜¯è¯´ç»„ä»¶çš„æ›´æ–°å’Œ IO ç›¸å…³ã€‚åœ¨Suspenseä»¥å‰ï¼Œå…¶ä»–æ›´æ–°éƒ½å±äº CPU-boundï¼ˆå’ŒCPUç›¸å…³ï¼‰ã€‚</p>\r\n    <p>åœ¨Suspenseå‡ºç°ä»¥å‰ï¼ŒReactå¤„ç†æ›´æ–°çš„æ¨¡å‹æ˜¯è¿™æ ·çš„ï¼šâ€œä½ä¼˜å…ˆçº§çš„æ›´æ–°è¦æƒ³å®Œæˆï¼Œå¿…é¡»åŒæ—¶æŠŠé«˜ä¼˜å…ˆçº§å¸¦ä¸Šâ€ã€‚è¿™å¥è¯æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå®˜æ–¹ç»™å‡ºäº†ä¸€ä¸ªä¾‹å­æ–¹ä¾¿ç†è§£ï¼šå‡å®šæœ‰Aã€Bã€Cä¸‰ä¸ªæ›´æ–°ï¼Œå®ƒä»¬çš„ä¼˜å…ˆçº§é¡ºåºæ˜¯A>B>Cï¼Œé‚£ä¹ˆä½ æƒ³å®ŒæˆBæ›´æ–°å°±å¿…é¡»åŒæ—¶æŠŠAæ›´æ–°å¸¦ä¸Šï¼Œä½ æƒ³å®ŒæˆCæ›´æ–°å°±å¿…é¡»åŒæ—¶æŠŠAå’ŒBéƒ½å¸¦ä¸Šã€‚</p>\r\n    <p>ä½†æ˜¯å½“Suspenseå‡ºç°ä»¥åï¼Œæ›´æ–°å°±ä¸å®Œå…¨æ˜¯CPU-boundäº†ï¼Œå®ƒè¿˜å¯ä»¥æ˜¯IO-boundã€‚å‡å®šæœ‰ä»¥ä¸‹åœºæ™¯ï¼šåŒæ—¶å­˜åœ¨ä¸€ä¸ªé«˜çº§åˆ«çš„IO-boundæ›´æ–°å’Œä¸€ä¸ªä½çº§åˆ«CPU-boundæ›´æ–°ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å®Œæˆè¿™ä¸ªä½çº§åˆ«çš„CPU-boundæ›´æ–°ï¼Œå°±å¿…é¡»åŒæ—¶æŠŠé«˜çº§åˆ«çš„IO-boundæ›´æ–°ä¹Ÿå¸¦ä¸Šã€‚ä½†IOä¸CPUçš„å¤„ç†æ—¶é—´ä¸æ˜¯ä¸€ä¸ªçº§åˆ«çš„ï¼ŒIOå¯èƒ½è¦å¥½å‡ ç§’ï¼Œè€ŒCPUå‡ æ¯«ç§’å°±èƒ½å®Œæˆäº†ã€‚æŒ‰ç…§ä¹‹å‰çš„æ¨¡å‹ï¼Œè®©ä½çº§åˆ«çš„CPU-boundæ›´æ–°ä¸€ç›´å»ç­‰å¾…é«˜çº§åˆ«çš„IO-boundæ›´æ–°æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œå®ƒé€ æˆäº†èµ„æºçš„å¤§é‡æµªè´¹ã€‚äºæ˜¯Reactæå‡ºäº†ä¸€ä¸ªæ–°çš„æ¨¡å‹ï¼šReact Fiber Laneã€‚</p>\r\n    <p>Laneæ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„ä¸œè¥¿å‘¢ï¼Ÿé¦–å…ˆï¼Œåœ¨JavaScriptä¸­ï¼ŒLaneæ˜¯ä¸€ä¸ªæ•°å­—ã€‚æ›´å…·ä½“åœ°è¯´ï¼ŒLaneæ˜¯ä¸€ä¸ª4å­—èŠ‚ã€32ä½çš„æ•°å­—ï¼š</p>\r\n    <img src={TypeLane} alt=\"\" />\r\n    <p>Reactç”¨è¿™32ä½æ•°å­—çš„ä¸åŒç»„åˆæ¥è¡¨ç¤ºä¸åŒçš„ä¼˜å…ˆçº§ï¼Œä»¥ä¸‹å¯¹Laneå®šä¹‰çš„æºç åšä¸€ä¸ªèŠ‚é€‰ï¼š<span style={{ display: 'none' }}><Tag link=\"https://github.com/facebook/react/blob/a8cabb5648a14ef55cb96d679a526e3f731e9611/packages/react-reconciler/src/ReactFiberLane.new.js#L31-L79\">æºç </Tag></span></p>\r\n    <img src={Lanes} alt=\"\" />\r\n    <p>å¯ä»¥çœ‹åˆ°ï¼Œå¤§éƒ¨åˆ†Laneçš„å®šä¹‰éƒ½æ˜¯ä»¥ 0b å¼€å¤´ï¼ŒåŠ ä¸Šä¸€ä¸²0ã€1åºåˆ—çš„æ•°å­—ï¼ˆ0bä»£è¡¨äºŒè¿›åˆ¶ï¼‰ã€‚æ¯ä¸ªåºåˆ—é‡Œä¸€èˆ¬åªæœ‰ä¸€ä¸ª1ï¼Œå…¶ä½™éƒ½æ˜¯0ã€‚æœ€å³è¾¹çš„1ä»£è¡¨æœ€é«˜ä¼˜å…ˆçº§ï¼Œæœ€å·¦è¾¹çš„1ä»£è¡¨æœ€ä½ä¼˜å…ˆçº§ï¼Œå¦‚SyncLaneï¼š0b0000000000000000000000000000001ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰å’ŒOffscreenLaneï¼š0b1000000000000000000000000000000ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰ã€‚</p>\r\n    <p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹Laneæ¨¡å‹æ¯”expirationTimeæ¨¡å‹å¥½åœ¨å“ªã€‚1. Laneåªå 4ä¸ªå­—èŠ‚ï¼Œä½†å®ƒå´å¯ä»¥è¡¨ç¤ºè‡³å¤š31ç§ä¼˜å…ˆçº§åˆ«ï¼Œè¯´æ˜å®ƒåœ¨ç©ºé—´ä¸Šå¾ˆå ä¼˜åŠ¿ï¼ˆå†…å­˜ï¼‰ã€‚2. Laneçš„æ“ä½œéå¸¸å¿«ï¼Œå®ƒçš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸºäºä½çš„ï¼Œä¸éœ€è¦åšé¢å¤–çš„è½¬æ¢ã€‚è¿™è¯´æ˜å®ƒåœ¨æ—¶é—´ä¸Šä¹Ÿå ä¼˜åŠ¿ï¼ˆCPUï¼‰ã€‚è¿™é‡Œæˆ‘ä»¬ç®€å•åœ°å±•ç¤ºä¸‹å¸¸è§çš„å‡ ç§ä½æ“ä½œï¼Œæ–¹ä¾¿å¤§å®¶å¯¹å®ƒçš„ç†è§£ï¼š</p>\r\n    <p>1. åˆ¤æ–­æŸä¸€ä½ä¸Šæ˜¯å¦ä¸º1ï¼š<br /><span style={{ textIndent: '2em', display: 'inline-block' }}>å‡å®šæœ‰ä¸€ä¸ª4å­—èŠ‚çš„æ•°å­—ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“å®ƒä»å³å¾€å·¦æ•°ç¬¬3ä½æ•°å­—æ˜¯å¦ä¸º1ï¼Œåªéœ€è¦å°†è¯¥æ•°å­—ä¸0b100åšä¸€æ¬¡<code>&</code>è¿ç®—ï¼Œè‹¥ç»“æœä¸ä¸º0ï¼Œåˆ™è¯´æ˜è¯¥æ•°å­—ä»å³å¾€å·¦æ•°ç¬¬3ä½ä¸º1ï¼š <code>test_number & 0b100 !== 0</code></span></p>\r\n    <p>2. è®¡ç®—ä¸¤ä¸ªæ•°å­—æ‰€æœ‰ä½ä¸º1çš„å¹¶é›†ï¼š<br /><span style={{ textIndent: '2em', display: 'inline-block' }}>å‡å®šæœ‰ä¸¤ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“å½“å®ƒä»¬ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºæ—¶ï¼Œæ‰€æœ‰å€¼ç­‰äº1çš„ä½è¿›è¡Œåˆå¹¶ï¼Œä¼šäº§ç”Ÿå‡ºä¸€ä¸ªä»€ä¹ˆæ ·çš„æ–°æ•°å­—ï¼Œé‚£æˆ‘ä»¬å¯ä»¥å¯¹è¿™ä¸¤ä¸ªæ•°å­—è¿›è¡Œä¸€ä¸ª<code>|</code>è¿ç®—ï¼Œæ¯”å¦‚ï¼š <code>0b100 | 0b101 === 0b101</code></span></p>\r\n    <p>3. æ‹¿åˆ°æ•°å­—æœ€å³è¾¹å€¼ä¸º1çš„é‚£ä¸€ä½æ‰€ä»£è¡¨çš„æ•°çš„å¤§å°ï¼š<br /><span style={{ textIndent: '2em', display: 'inline-block' }}>æ¯”å¦‚æœ‰ä¸ªæ•°å­— 0b1100ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“å®ƒæœ€å³è¾¹çš„é‚£ä¸ª1ä»£è¡¨çš„æ•°å€¼å¤§å°ï¼ˆ0b1100æœ€å³è¾¹çš„1çš„å¤§å°ä¸º4ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å®ƒè‡ªèº«ä¸å…¶ç›¸åæ•°è¿›è¡Œä¸€æ¬¡<code>~</code>æ“ä½œï¼Œå…·ä½“æ˜¯ï¼š <code>lane ~ -lane</code>ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ‹¿åˆ°æœ€å³è¾¹é‚£ä½1æ‰€ä»£è¡¨çš„å€¼å¤§å°äº†ã€‚ä¸ä¿¡ä½ è¯•ä¸€ä¸‹ï¼</span></p>\r\n    <p>â€¦â€¦â€¦â€¦â€¦â€¦ï¼ˆä½çš„å¸¸è§„æ“ä½œè¿˜æœ‰å¾ˆå¤šï¼Œè¿™é‡Œä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼‰</p>\r\n    <p>æ€»çš„æ¥è¯´ï¼Œè¿™ç¯‡æ–‡ç« çš„ä¸»é¢˜æ˜¯Laneä½œä¸ºexpirationTimeçš„æ›¿ä»£å“å‡ºç°åœ¨Reactä¸­çš„ã€‚å®ƒä»¬è™½ç„¶éƒ½è¢«ç”¨æ¥è¡¨ç¤ºä¼˜å…ˆçº§ï¼Œä½†Laneè§£è€¦äº†ä¸¤ä¸ªè¢«expirationTimeæ··æ·†çš„æ¦‚å¿µï¼š1. æƒé™å¤§å°(priority) 2. æ‰¹æ¬¡(batch)ã€‚ åœ¨Laneæ¨¡å‹ä¸­ï¼Œæƒé™å¤§çš„æ›´æ–°å¯ä»¥å’Œæƒé™å°çš„æ›´æ–°åˆ†æ‰¹æ¬¡å»æ‰§è¡Œï¼ˆé€šè¿‡ç»™å®ƒä»¬åˆ†é…ä¸åŒçš„Laneï¼‰ï¼Œä½†expirationTimeä¼šæŠŠæƒé™å¤§å°ä¸æ‰¹æ¬¡æ†ç»‘åœ¨ä¸€èµ·ã€‚å¦å¤–ï¼ŒLaneæ— è®ºæ˜¯åœ¨æ—¶é—´ï¼ˆä½æ“ä½œï¼‰è¿˜æ˜¯ç©ºé—´ï¼ˆ4å­—èŠ‚ï¼‰ä¸Šéƒ½æ›´å…·ä¼˜åŠ¿ï¼Œå› æ­¤ Lane å–ä»£äº† expirationTimeï¼ï¼<span style={{ display: 'none' }}>å› ä¸ºæƒé™å¤§çš„å¯èƒ½æ˜¯IO-boundï¼Œè€Œæƒé™å°çš„å¯èƒ½æ˜¯CPU-boundã€‚</span><span style={{ display: 'none' }}>åœ¨åŸå…ˆçš„expirationTimeæ¨¡å‹ï¼Œæƒé™å¤§çš„ä¸€å®šè¦æ¯”æƒé™å°çš„å…ˆæ‰§è¡Œï¼Œæˆ–è€…è¯´æƒé™å°çš„æƒ³è¦æ‰§è¡Œï¼Œå¿…é¡»åŒæ—¶å®Œæˆæƒé™å¤§çš„ã€‚expirationTimeæŠŠè¿™ä¸¤ä¸ªæ¦‚å¿µæ··åœ¨äº†ä¸€èµ·ã€‚ä½†è¿™ç§æ¨¡å¼åˆ°äº†Suspenseå°±ä¸èµ·ä½œç”¨äº†ï¼Œå› ä¸ºæœ‰å¯èƒ½å‡ºç°æƒé™é«˜çš„IO-boundæ›´æ–°å’Œæƒé™ä½çš„CPU-boundæ›´æ–°ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬ä¸åº”è¯¥æŠŠå®ƒä»¬æ”¾åœ¨åŒä¸€æ‰¹æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´å³ä½¿æƒé™å¤§çš„ä¸åº”é˜»å¡æƒé™å°çš„ã€‚æ˜¯éœ€è¦åˆ†æ‰¹(unbatchï¼‰å»å¤„ç†è¿™ä¸¤ä¸ªæ›´æ–°çš„ï¼Œä¸èƒ½æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·ã€‚</span></p>\r\n  </>\r\n}","export default \"data:image/png;base64,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\"","import React, { useCallback, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { BrowserRouter as Router, Link, Route } from 'react-router-dom';\r\n// import Post from '../Post';\r\nimport { withRouter } from \"react-router\";\r\nimport IconLocation from '../../assets/images/cd-icon-location.svg';\r\nimport IconMovie from '../../assets/images/cd-icon-movie.svg';\r\nimport IconPicture from '../../assets/images/cd-icon-picture.svg';\r\nimport postMap from '../../posts'\r\nimport { CSSTransition, TransitionGroup, SwitchTransition } from 'react-transition-group';\r\n\r\nfunction Timeline(props) {\r\n  const [post, setPost] = useState(null);\r\n  const PostComponent = postMap[post];\r\n  const refCallback = useCallback((ref) => {\r\n    if (ref) {\r\n      const reminded = sessionStorage.getItem('reminded');\r\n      if (!reminded) {\r\n        sessionStorage.setItem('reminded', true);\r\n        setTimeout(() => {\r\n          ref.classList.add('jump')\r\n        }, 400)\r\n      }\r\n    }\r\n  }, [])\r\n  return (\r\n    <SwitchTransition>\r\n      <CSSTransition classNames=\"slide\" timeout={400} key={post}>\r\n        {post === null ? <section id='cd-timeline' className='cd-container'>\r\n          <div className='cd-timeline-block'>\r\n            <div className='cd-timeline-img cd-picture'>\r\n              <img src={IconPicture} alt='Picture' />\r\n            </div>\r\n            <div className='cd-timeline-content' onClick={() => setPost('Post1')}>\r\n              <h2>Title of section 1</h2>\r\n              <p>\r\n                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto, optio, dolorum provident rerum aut hic\r\n                quasi placeat iure tempora laudantium ipsa ad debitis unde? Iste voluptatibus minus veritatis qui ut.\r\n              </p>\r\n              <a href='#0' className='cd-read-more'>\r\n                Read more\r\n              </a>\r\n              <span className='cd-date'>Jan 14</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='cd-timeline-block'>\r\n            <div className='cd-timeline-img cd-movie'>\r\n              <img src={IconMovie} alt='Movie' />\r\n            </div>\r\n\r\n            <div className='cd-timeline-content' onClick={() => setPost('Post2')}>\r\n              <h2>Title of section 2</h2>\r\n              <p>\r\n                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto, optio, dolorum provident rerum aut hic\r\n                quasi placeat iure tempora laudantium ipsa ad debitis unde?\r\n              </p>\r\n              <a href='#0' className='cd-read-more'>\r\n                Read more\r\n              </a>\r\n              <span className='cd-date'>Jan 18</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='cd-timeline-block'>\r\n            <div className='cd-timeline-img cd-picture'>\r\n              <img src={IconPicture} alt='Picture' />\r\n            </div>\r\n\r\n            <div className='cd-timeline-content'>\r\n              <h2>Title of section 3</h2>\r\n              <p>\r\n                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Excepturi, obcaecati, quisquam id molestias eaque\r\n                asperiores voluptatibus cupiditate error assumenda delectus odit similique earum voluptatem doloremque\r\n                dolorem ipsam quae rerum quis. Odit, itaque, deserunt corporis vero ipsum nisi eius odio natus ullam\r\n                provident pariatur temporibus quia eos repellat consequuntur perferendis enim amet quae quasi repudiandae\r\n                sed quod veniam dolore possimus rem voluptatum eveniet eligendi quis fugiat aliquam sunt similique aut\r\n                adipisci.\r\n              </p>\r\n              <a href='#0' className='cd-read-more'>\r\n                Read more\r\n              </a>\r\n              <span className='cd-date'>Jan 24</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='cd-timeline-block'>\r\n            <div className='cd-timeline-img cd-location'>\r\n              <img src={IconLocation} alt='Location' />\r\n            </div>\r\n\r\n            <div className='cd-timeline-content'>\r\n              <h2>Title of section 4</h2>\r\n              <p>\r\n                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto, optio, dolorum provident rerum aut hic\r\n                quasi placeat iure tempora laudantium ipsa ad debitis unde? Iste voluptatibus minus veritatis qui ut.\r\n              </p>\r\n              <a href='#0' className='cd-read-more'>\r\n                Read more\r\n              </a>\r\n              <span className='cd-date'>Feb 14</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='cd-timeline-block'>\r\n            <div className='cd-timeline-img cd-location'>\r\n              <img src={IconLocation} alt='Location' />\r\n            </div>\r\n\r\n            <div className='cd-timeline-content'>\r\n              <h2>Title of section 5</h2>\r\n              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto, optio, dolorum provident rerum.</p>\r\n              <a href='#0' className='cd-read-more'>\r\n                Read more\r\n              </a>\r\n              <span className='cd-date'>Feb 18</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='cd-timeline-block'>\r\n            <div className='cd-timeline-img cd-movie'>\r\n              <img src={IconMovie} alt='Movie' />\r\n            </div>\r\n\r\n            <div className='cd-timeline-content'>\r\n              <h2>Final Section</h2>\r\n              <p>This is the content of the last section</p>\r\n              <span className='cd-date'>Feb 26</span>\r\n            </div>\r\n          </div>\r\n        </section> : <div>\r\n          <div id=\"post_container\">\r\n            <div className=\"window_header\">\r\n              {/* <div class=\"circle\" /> */}\r\n              <span className=\"circle circle1\" ref={refCallback} title=\"è¿”å›\" onClick={() => setPost(null)} />\r\n              <span className=\"circle circle2\" />\r\n              <span className=\"circle circle3\" />\r\n            </div>\r\n            <div className=\"post_content\">\r\n              <PostComponent />\r\n            </div>\r\n          </div>\r\n          <div style={{ height: '130px' }}></div>\r\n        </div>}\r\n      </CSSTransition>\r\n    </SwitchTransition>\r\n  );\r\n}\r\n\r\nexport default withRouter(Timeline)","import React from 'react';\r\nimport './bubbles.css'\r\n\r\nclass Circle {\r\n\r\n  constructor(color, radius) {\r\n    this.color = color;\r\n    this.radius = radius;\r\n    this.fixedX = \"left\";\r\n    this.fixedY = \"top\";\r\n    this.scale = 1;\r\n    this.isWiggling = true;\r\n  }\r\n\r\n  setOriginalPosition(x, y) {\r\n    // Origin coordinates should be set as pixels\r\n    // These coordinates will be intreprested through the lens of where this\r\n    // object is fixed.\r\n    this.origin = { x, y };\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  calculateRelativePosition(ctx) {\r\n    // This will return the calculated position of this object within the\r\n    // given canvas context based on where this object is fixed.\r\n    const height = ctx.canvas.height;\r\n    const width = ctx.canvas.width;\r\n    const pos = {\r\n      x: this.x,\r\n      y: this.y\r\n    };\r\n\r\n    if (this.fixedX === \"right\") {\r\n      pos.x += width;\r\n    }\r\n\r\n    if (this.fixedY === \"bottom\") {\r\n      pos.y += height;\r\n    }\r\n\r\n    return pos;\r\n  }\r\n\r\n  calculateRadius() {\r\n    return this.radius * this.scale;\r\n  }\r\n\r\n}\r\nexport default class Bubbles extends React.Component {\r\n\r\n  resizeHandler = () => {\r\n    this.resizeCanvas(this.ctx);\r\n    this.step(this.circles, this.ctx);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const desktopData = [\r\n      { size: 20, fx: \"left\", x: 250, fy: \"top\", y: 240, color: \"rgba(51, 145, 148, .5)\" },\r\n      { size: 70, fx: \"left\", x: 200, fy: \"top\", y: 120, color: \"rgba(30, 129, 127, .5)\" },\r\n      // { size: 130, fx: \"left\", x: 700, fy: \"top\", y: 40, color: \"rgba(167, 2, 103, .5)\" },\r\n      { size: 50, fx: \"left\", x: 370, fy: \"top\", y: 170, color: \"rgba(246, 216, 107, .5)\" },\r\n      // { size: 90, fx: \"left\", x: -15, fy: \"top\", y: 170, color: \"rgba(192, 231, 109, .5)\" },\r\n      { size: 10, fx: \"left\", x: 250, fy: \"top\", y: 270, color: \"rgba(251, 107, 65, .5)\" },\r\n      // { size: 230, fx: \"left\", x: 620, fy: \"bottom\", y: -200, color: \"rgba(241, 12, 73, .5)\" },\r\n      // { size: 230, fx: \"left\", x: 620, fy: \"bottom\", y: -200, color: \"rgba(241, 12, 73, .5)\" },\r\n      { size: 180, fx: \"left\", x: 500, fy: \"bottom\", y: -340, color: \"rgba(42, 148, 132, .5)\" },\r\n      // { size: 160, fx: \"left\", x: 760, fy: \"bottom\", y: -18, color: \"rgba(246, 216, 107, .5)\" },\r\n      { size: 110, fx: \"left\", x: 830, fy: \"bottom\", y: -320, color: \"rgba(251, 107, 65, .5)\" },\r\n      // { size: 50, fx: \"left\", x: 980, fy: \"bottom\", y: -50, color: \"rgba(192, 231, 109, .5)\" },\r\n      { size: 15, fx: \"left\", x: 540, fy: \"bottom\", y: -620, color: \"rgba(251, 107, 65, .5)\" },\r\n      { size: 65, fx: \"right\", x: -230, fy: \"top\", y: 240, color: \"rgba(167, 2, 103, .5)\" },\r\n      { size: 60, fx: \"right\", x: -100, fy: \"top\", y: 180, color: \"rgba(192, 231, 109, .5)\" },\r\n      { size: 50, fx: \"right\", x: -140, fy: \"top\", y: 400, color: \"rgba(241, 12, 73, .5)\" },\r\n      { size: 135, fx: \"right\", x: -430, fy: \"bottom\", y: -440, color: \"rgba(241, 12, 73, .5)\" },\r\n      { size: 50, fx: \"right\", x: -200, fy: \"bottom\", y: -100, color: \"rgba(251, 107, 65, .5)\" },\r\n      { size: 140, fx: \"right\", x: -40, fy: \"bottom\", y: -20, color: \"rgba(246, 216, 107, .5)\" }\r\n    ];\r\n    const ctx = this.ctx = this.instantiateCanvas();\r\n    let circles = this.circles = [];\r\n    // circles = this.instantiateCircles(mobileData);\r\n    circles = this.instantiateCircles(desktopData);\r\n    this.resizeCanvas(ctx);\r\n    this.step(circles, ctx);\r\n\r\n    window.addEventListener(\"resize\", this.resizeHandler);\r\n    window.TweenLite.ticker.addEventListener(\"tick\", () => { this.draw(circles, ctx); });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.resizeHandler);\r\n  }\r\n\r\n  instantiateCanvas() {\r\n    const ctx = document.getElementById(\"canvas\").getContext(\"2d\");\r\n    ctx.globalCompositeOperation = \"destination-over\";\r\n    return ctx;\r\n  }\r\n\r\n  instantiateCircles(data) {\r\n    const circles = [];\r\n\r\n    // Instantiate circles\r\n    for (let i = 0; i < data.length; i++) {\r\n      const newCircle = new Circle();\r\n      newCircle.color = data[i].color;\r\n      newCircle.radius = data[i].size;\r\n      newCircle.fixedX = data[i].fx;\r\n      newCircle.fixedY = data[i].fy;\r\n      newCircle.scale = 1.0;\r\n      newCircle.setOriginalPosition(data[i].x, data[i].y);\r\n\r\n      circles.push(newCircle);\r\n    }\r\n\r\n    return circles;\r\n  }\r\n\r\n  step(circles, ctx) {\r\n    // Wiggle circles\r\n    for (const i in circles) {\r\n      this.wiggleCircle(circles[i], ctx);\r\n    }\r\n  }\r\n\r\n  wiggleCircle(circle) {\r\n    if (circle.isWiggling) {\r\n\r\n      const tweenProperties = [\r\n        {\r\n          name: \"scale\",\r\n          min: 0.93,\r\n          max: 1\r\n        }, {\r\n          name: \"x\",\r\n          min: circle.x - 400,\r\n          max: circle.x + 400\r\n        }, {\r\n          name: \"y\",\r\n          min: circle.y - 400,\r\n          max: circle.y + 400\r\n        }];\r\n\r\n      this.wiggleProperties(circle, tweenProperties);\r\n    }\r\n  }\r\n\r\n  wiggleProperties(obj, properties) {\r\n    const duration = Math.random() * 10 + 1.5;\r\n    const tweenOptions = {\r\n      ease: window.Power1.easeInOut,\r\n      onComplete: () => { this.wiggleProperties(obj, properties); }\r\n    };\r\n\r\n    for (const i in properties) {\r\n      const property = properties[i];\r\n      tweenOptions[property.name] = Math.random() * (property.max - property.min) + property.min;\r\n    }\r\n\r\n    window.TweenLite.to(obj, duration, tweenOptions);\r\n  }\r\n\r\n  draw(circles, ctx) {\r\n    const canvasEl = ctx.canvas;\r\n\r\n    // Clear canvas\r\n    ctx.clearRect(0, 0, canvasEl.clientWidth, canvasEl.clientHeight);\r\n\r\n    // Draw circles\r\n    for (const i in circles) {\r\n      this.drawCircle(circles[i], ctx);\r\n    }\r\n  }\r\n\r\n  drawCircle(circle, ctx) {\r\n    const rad = circle.calculateRadius();\r\n    const pos = circle.calculateRelativePosition(ctx);\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(pos.x, pos.y, rad, 0, 2 * Math.PI, false);\r\n    ctx.fillStyle = circle.color;\r\n    ctx.fill();\r\n  }\r\n\r\n  resizeCanvas(ctx) {\r\n    const containerEl = document.getElementById(\"canvas__container\");\r\n\r\n    ctx.canvas.height = containerEl.clientHeight;\r\n    ctx.canvas.width = containerEl.clientWidth;\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"canvas__container\" >\r\n        <canvas id=\"canvas\" className=\"canvas\"></canvas>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport './header.css'\r\n\r\nexport default function Header(props) {\r\n  return (\r\n    <div className=\"header\">\r\n      <h1>ğŸŒºğŸµğŸ…ğŸƒBlog SharingğŸ¨ğŸ©ğŸ±ğŸµ</h1>\r\n      <div className=\"meta\">\r\n        <span className=\"author\"></span><br />\r\n        By<span>&nbsp;FrankCai</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}","/* è¿™æ˜¯æ˜¯åŠ äº†transition-groupç‰¹æ•ˆçš„ï¼Œå…ˆæ³¨é‡Šæ‰\r\nimport React, { Component } from 'react';\r\nimport './index.css';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nexport default className Post extends Component {\r\n  ref: HTMLElement | null = null;\r\n  state = {\r\n    in: false\r\n  }\r\n  componentDidMount() {\r\n    this.setState({\r\n      in: true\r\n    })\r\n  }\r\n  componentWillUnmount() {\r\n    this.setState({\r\n      in: false\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <CSSTransition classNames=\"slide\" timeout={1300} in={this.state.in} unmountOnExit>\r\n          <div>\r\n            è¿™æ˜¯ä¸€ç¯‡åšæ–‡\r\n          </div>\r\n        </CSSTransition>\r\n        <button onClick={() => this.setState({ in: !this.state.in })}>Toggle</button>\r\n      </>\r\n    )\r\n  }\r\n}\r\n*/\r\n\r\nimport React from 'react';\r\nimport './index.css'\r\nimport { Link } from 'react-router-dom';\r\nexport default class Post extends React.Component {\r\n  render() {\r\n    return <div className=\"post_header\">\r\n      <h1>è¿™æ˜¯æ ‡é¢˜</h1>\r\n      <div className=\"post_meta\">\r\n        <span className=\"post_author\"></span><br />\r\n        By <a href=\"https://twitter.com/nodws\" target=\"_b\">James Nodws</a> on May 30, 2019\r\n      </div>\r\n    </div>\r\n  }\r\n}","// import logo from './logo.svg';\nimport './App.css';\n// import Card from './components/Card';\nimport Timeline from './components/Timeline';\nimport Bubbles from './components/Background/Bubbles';\nimport Header from './components/Header/Header'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Post from './components/Post';\nimport { useEffect, useState } from 'react';\n// import PageTransition from './components/PageTransition/PageTransition';\n\nfunction App() {\n  return (\n    // <PageTransition>\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <Bubbles />\n          <Header />\n          <Timeline />\n        </Route>\n        <Route exact path=\"/post\">\n          <Post />\n        </Route>\n      </Switch>\n    </Router>\n    // </PageTransition>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}